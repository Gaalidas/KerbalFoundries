// ---- Primary KFDustFX Patch ----
@PART[*]:HAS[!MODULE[KFDustFX],@MODULE[KFModuleWheel]]:Final
{
	!MODULE[CollisionFX] {}
	%MODULE[KFDustFX]
	{
		%name = KFDustFX
		%wheelImpact = true
		%wheelImpactSound = KerbalFoundries/Sounds/TyreSqueal
	}
}
@PART[*]:HAS[!MODULE[KFDustFX],@MODULE[*Repulsor]]:Final
{
	!MODULE[CollisionFX] {}
	%MODULE[KFDustFX]
	{
		%name = KFRepulsorDustFX
	}
}
// ---- Additional Settings ----
@PART[KF_*]:HAS[@MODULE[KFDustFX],@MODULE[TweakScale]:HAS[#type[KFScaleS]]]:NEEDS[KerbalFoundries]:Final
{
	@MODULE[KFDustFX]
	{
		%maxDustEmission = 7
	}
}
@PART[KF_*]:HAS[@MODULE[KFDustFX],@MODULE[TweakScale]:HAS[#type[KFScaleM]]]:NEEDS[KerbalFoundries]:Final
{
	@MODULE[KFDustFX]
	{
		%maxDustEmission = 28
	}
}
@PART[KF_*]:HAS[@MODULE[KFDustFX],@MODULE[TweakScale]:HAS[#type[KFScaleL]]]:NEEDS[KerbalFoundries]:Final
{
	@MODULE[KFDustFX]
	{
		%maxDustEmission = 49
	}
}
@PART[KF_*]:HAS[@MODULE[KFDustFX],@MODULE[TweakScale]:HAS[#type[KFTrackLarge]]]:NEEDS[KerbalFoundries]:Final
{
	@MODULE[KFDustFX]
	{
		%maxDustEmission = 64
		%minVelocityMag = 6
	}
}
@PART[KF_*]:HAS[@MODULE[KFDustFX],@MODULE[TweakScale]:HAS[#type[KFTrack]]]:NEEDS[KerbalFoundries]:Final
{
	@MODULE[KFDustFX]
	{
		%maxDustEmission = 45
	}
}
@PART[KF_*]:HAS[@MODULE[KFDustFX],@MODULE[TweakScale]:HAS[#type[KFTrackSmall]]]:NEEDS[KerbalFoundries]:Final
{
	@MODULE[KFDustFX]
	{
		%maxDustEmission = 21
	}
}
@PART[KF_*]:HAS[@MODULE[KFRepulsorDustFX],@MODULE[TweakScale]:HAS[#type[KFRepulsor]]]:NEEDS[KerbalFoundries]:Final
{
	@MODULE[KFRepulsorDustFX]
	{
		%maxDustEmission = 35
	}
}
@PART[ERS_WheelKF]:NEEDS[KerbalFoundries]:Final
{
	%MODULE[KFDustFX]
	{
		%name = KFDustFX
		%maxDustEmission = 28
	}
}